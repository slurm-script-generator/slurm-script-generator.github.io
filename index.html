<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SLURM Generator Pro</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="loading-overlay">
      <h2 id="load-msg">Initializing Environment...</h2>
    </div>

    <header>
      <div class="brand-group">
        <h1>SLURM SCRIPT GENERATOR</h1>
        <span id="version-tag" style="font-size: 0.8rem; color: #64748b"
          >v0.3.2</span
        >
      </div>

      <div class="header-links">
        <a
          href="https://max-models.github.io/slurm-script-generator/"
          target="_blank"
          class="header-link"
          title="Documentation"
        >
          <svg viewBox="0 0 24 24">
            <path
              d="M12,6.25L16.06,4L18.56,5.5L14.5,7.75V12.75L12,14.12L9.5,12.75V7.75L5.44,5.5L7.94,4L12,6.25M12,15.88L15.5,13.88V9.12L12,11.12L8.5,9.12V13.88L12,15.88M12,2L4.5,6.12V17.88L12,22L19.5,17.88V6.12L12,2Z"
            />
          </svg>
          Docs
        </a>
        <a
          href="https://github.com/max-models/slurm-script-generator"
          target="_blank"
          class="header-link"
          title="GitHub Repository"
        >
          <svg viewBox="0 0 24 24">
            <path
              d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21.03C9.5,20.82 9.5,20.24 9.5,19.5C6.73,20.1 6.14,18.15 6.14,18.15C5.69,17 5.05,16.71 5.05,16.71C4.14,16.09 5.12,16.1 5.12,16.1C6.12,16.17 6.65,17.12 6.65,17.12C7.54,18.67 9,18.22 9.56,17.97C9.65,17.32 9.91,16.88 10.19,16.63C7.97,16.38 5.64,15.53 5.64,11.7C5.64,10.6 6.03,9.7 6.68,9C6.58,8.74 6.23,7.72 6.78,6.35C6.78,6.35 7.62,6.08 9.53,7.37C10.32,7.15 11.17,7.04 12,7.04C12.83,7.04 13.68,7.15 14.47,7.37C16.38,6.08 17.21,6.35 17.21,6.35C17.77,7.72 17.42,8.74 17.32,9C17.97,9.7 18.36,10.6 18.36,11.7C18.36,15.54 16.03,16.38 13.8,16.63C14.16,16.94 14.48,17.56 14.48,18.52C14.48,19.89 14.47,21 14.47,21.03C14.47,21.27 14.63,21.59 15.13,21.5C19.13,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"
            />
          </svg>
          GitHub
        </a>
      </div>
    </header>

    <main>
      <section id="input-side">
        <div id="dynamic-form"></div>

        <div class="category-section">
          <div class="category-title">Execution & Scripts</div>
          <div class="grid-inputs">
            <div class="field full-width">
              <label>Modules to Load <small>(One per line)</small></label>
              <textarea
                id="modules"
                class="slurm-list"
                placeholder="gcc/11.2.0&#10;openmpi/4.1.2"
              ></textarea>
            </div>
            <div class="field full-width">
              <label>Custom Commands <small>(One per line)</small></label>
              <textarea
                id="custom_commands"
                class="slurm-list"
                placeholder="# Run simulation&#10;srun ./my_binary"
              ></textarea>
            </div>
          </div>
        </div>
      </section>

      <div id="resizer"></div>

      <section id="output-side">
        <button id="copy-btn">Copy Script</button>
        <pre id="output"># Your generated script will appear here...</pre>
        <div id="controls">
          <button id="run-btn" disabled>Generate Script</button>
        </div>
      </section>
    </main>
    <script src="script.js"></script>
  </body>
</html>
